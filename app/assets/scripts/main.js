function pad(e){return e<10?"0"+e:e}function isTodayOrTheFuture(e){return differenceInDays(e,new Date)>=0}function isOverTwoMonths(e){return differenceInDays(e,new Date)>=60}NodeList.prototype.forEach||(NodeList.prototype.forEach=Array.prototype.forEach);var isClicking=!1;function reloadOnDateChange(){this.value!==this.dataset.original&&document.getElementById("changeDate").click()}function updateEditableRoomFields(){document.getElementById("roomId").value=this.dataset.id,document.getElementById("name").value=this.dataset.name,document.getElementById("sitting").value=this.dataset.sitting,document.getElementById("standing").value=this.dataset.standing;var e=document.querySelectorAll("#equipment");e[0]&&(e[0].value=this.dataset.equipment1||""),e[1]&&(e[1].value=this.dataset.equipment2||"")}document.querySelectorAll("#input-date-day, #input-date-month, #input-date-year").forEach(function(e){e.addEventListener("blur",function(){this.parentNode.parentNode.parentNode.parentNode.parentNode.submit()})}),document.querySelectorAll(".time").forEach(function(e){e.addEventListener("mousedown",function(e){e.preventDefault(),document.querySelectorAll(".time").forEach(function(e){e.classList.remove("provisional-date")}),this.classList.toggle("provisional-date"),isClicking=!0}),e.addEventListener("mouseup",function(){isClicking=!1;var e=document.querySelectorAll(".provisional-date"),t=e[0].getAttribute("data-time").split(":"),n=1===e.length?e[0].getAttribute("data-time").split(":"):e[e.length-1].getAttribute("data-time").split(":"),a=document.querySelectorAll("#hours, #minutes");a[0].value=1===t[0].length?"0"+t[0]:t[0],a[1].value=t[1];var i="30"===n[1]?pad(parseInt(n[0])+1).toString():n[0];a[2].value=1===i.length?"0"+i:i,a[3].value="30"===n[1]?"00":"30"}),e.addEventListener("mouseover",function(){!0===isClicking&&this.classList.add("provisional-date")})}),document.querySelectorAll(".date-picker-input").forEach(function(e){e.addEventListener("blur",reloadOnDateChange)}),document.querySelectorAll(".select-room-to-edit-button").forEach(function(e){e.addEventListener("click",updateEditableRoomFields)});